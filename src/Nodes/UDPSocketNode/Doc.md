# UDPSocketNode 帮助文档
## 节点功能
UDPSocketNode 是一个用于UDP网络通信的节点，提供以下功能：

- 双向通信 ：同时支持UDP数据的发送和接收
- 本地端口监听 ：可配置本地监听地址和端口，接收来自任何地址的UDP数据报
- 目标地址动态配置 ：可通过节点界面或输入端口动态设置发送目标的主机地址和端口
- 自动接收消息并解析 ：自动接收UDP数据报并解析为多种格式的输出
- 支持手动触发和自动发送 ：可通过界面按钮手动发送，或通过输入端口自动触发发送
- 消息内容十六进制/ASCII转换 ：支持原始数据和十六进制格式的数据输出
- 独立线程运行 ：网络操作在独立线程中执行，不会阻塞主界面
## 输入端口
- TARGET HOST ：目标主机地址，接收字符串类型数据，用于设置UDP消息发送的目标地址
- TARGET PORT ：目标端口号，接收整数类型数据，用于设置UDP消息发送的目标端口
- VALUE ：发送值，接收字符串类型数据，设置要发送的UDP消息内容，并自动触发发送
- TRIGGER ：触发信号，接收任意类型数据，触发当前编辑框中的消息发送
## 输出端口
- RESULT ：完整消息数据，输出VariableData类型，包含接收到的完整UDP数据报信息（包括发送方地址、原始数据和十六进制数据）
- HOST ：来源主机地址，输出字符串类型数据，表示UDP数据报的发送方地址
- VALUE ：消息内容，输出接收到的UDP消息内容
- HEX ：十六进制原始数据，输出接收到的UDP消息的十六进制表示
## 节点界面
节点界面包含以下控件：

- listening host ：本地监听地址输入框，默认为"127.0.0.1"
- listening port ：本地监听端口输入框，默认为6000
- target host ：目标主机地址输入框，默认为"127.0.0.1"
- target port ：目标端口输入框，默认为6011
- value ：消息内容输入框
- Send ：发送按钮，点击后将消息发送到指定目标
## 使用示例
### 基本设置和通信
1. 添加UDPSocketNode到编辑器
2. 设置本地监听地址和端口（例如"127.0.0.1"和6000）
3. 设置目标主机地址和端口（例如"127.0.0.1"和6011）
4. 在value输入框中输入要发送的消息
5. 点击Send按钮发送消息
6. 接收到的UDP数据将通过输出端口输出
### 通过其他节点控制
1. 添加UDPSocketNode到编辑器
2. 添加StringNode并连接到TARGET HOST端口，用于动态设置目标地址
3. 添加NumberNode并连接到TARGET PORT端口，用于动态设置目标端口
4. 添加StringNode并连接到VALUE端口，用于设置消息内容并自动触发发送
5. 添加ButtonNode并连接到TRIGGER端口，用于手动触发消息发送
6. 添加DisplayNode并连接到RESULT、HOST、VALUE或HEX输出端口，用于显示接收到的数据
### 创建UDP广播系统
1. 添加UDPSocketNode到编辑器
2. 设置目标主机地址为广播地址（例如"255.255.255.255"）
3. 设置目标端口（例如6011）
4. 添加TimerNode并连接到TRIGGER端口，实现定时广播
5. 添加StringNode并连接到VALUE端口，设置广播消息内容
## 注意事项
- UDP特性 ：UDP是无连接的协议，不保证消息的可靠传递和顺序
- 监听设置 ：更改监听地址或端口后，节点会自动重新绑定到新的地址和端口
- 广播支持 ：可以将目标地址设置为广播地址（如"255.255.255.255"）实现UDP广播
- 数据格式 ：接收到的数据会以多种格式输出（原始数据、发送方地址、十六进制）
- VariableData输出 ：RESULT端口输出的是VariableData类型，包含多个字段，可通过其他端口获取特定字段
- 独立线程 ：UDP操作在独立线程中执行，不会阻塞主界面
## 技术细节
- 使用QUdpSocket实现UDP通信
- 支持IPv4地址格式
- 使用QThread创建独立线程处理网络操作
- 支持共享地址模式（ShareAddress）和地址重用（ReuseAddressHint）
- 自动解析接收到的数据报，提取发送方地址和数据内容
- 支持文本和二进制数据的发送和接收