# 图像缩放节点
## 节点功能
图像缩放节点用于调整输入图像的尺寸，支持以下特性：

- 灵活的尺寸调整：可自定义设置输出图像的宽度和高度
- 多种缩放模式：支持三种不同的纵横比处理模式
  - 忽略纵横比：按指定尺寸强制缩放，可能导致图像变形
  - 保持纵横比：在保持原始纵横比的情况下缩放到指定尺寸范围内
  - 保持纵横比并扩展：在保持原始纵横比的情况下缩放，确保覆盖指定尺寸
- 实时处理：输入图像或参数变化时自动更新输出结果
- 性能监控：显示图像处理所需的时间（毫秒）
- 外部参数控制：支持通过输入端口动态设置宽度和高度
- OSC远程控制：支持通过OSC协议远程调整所有参数
## 输入端口
节点提供了3个输入端口：

1. Image：输入图像数据（ImageData类型）
2. Width：图像宽度设置（VariableData类型，整数值）
3. Height：图像高度设置（VariableData类型，整数值）
## 输出端口
节点提供了1个输出端口：

1. Image：处理后的缩放图像（ImageData类型）
## 节点界面
节点提供了直观的用户界面，包含以下元素：

- 纵横比模式：下拉菜单，用于选择缩放时的纵横比处理方式
  - Ignore Aspect Ratio：忽略纵横比，可能导致图像变形
  - Keep Aspect Ratio：保持纵横比（默认选项）
  - Keep Aspect Ratio by Expanding：保持纵横比并扩展填充
- Width：宽度数值输入框，用于设置目标宽度（范围：0-5000像素）
- Height：高度数值输入框，用于设置目标高度（范围：0-9999像素）
- Time ms：处理时间显示，显示图像缩放所需的毫秒数（只读）
## 使用示例
### 基本图像缩放
1. 添加图像缩放节点到工作区
2. 将图像源节点（如CameraNode或ImageLoadNode）连接到图像缩放节点的Image输入端口
3. 在界面中设置目标宽度（如：800）和高度（如：600）
4. 选择适当的纵横比模式（如：Keep Aspect Ratio）
5. 图像缩放节点将自动处理输入图像并输出调整后的图像
### 动态调整图像尺寸
1. 添加两个整数源节点（IntSourceNode）到工作区
2. 将第一个整数源节点连接到图像缩放节点的Width输入端口
3. 将第二个整数源节点连接到图像缩放节点的Height输入端口
4. 通过调整整数源节点的值，可以动态控制输出图像的尺寸
### 创建自适应缩放系统
1. 使用多个图像缩放节点，每个节点配置不同的缩放参数
2. 使用逻辑节点（如SwitchNode）根据条件选择不同的缩放结果
3. 构建一个能够根据不同条件自动调整图像尺寸的系统
## 注意事项
- 性能考虑：大尺寸图像的缩放可能需要较长处理时间，可通过Time ms指示器监控
- 内存使用：过大的输出尺寸可能导致内存使用增加
- 图像质量：不同的纵横比模式会影响输出图像的质量和视觉效果
- 默认值：如果未连接Width或Height输入端口，将使用界面中设置的值
- 实时更新：任何参数变化（包括输入图像、宽度、高度或纵横比模式）都会触发重新处理
- OSC控制：节点支持通过以下OSC地址远程控制：
  - /aspectRatio：设置纵横比模式（0-2）
  - /Width：设置宽度值
  - /Height：设置高度值
## 技术细节
- 使用Qt的QImage::scaled()方法实现图像缩放
- 支持Qt的三种AspectRatioMode：
  - Qt::IgnoreAspectRatio (0)
  - Qt::KeepAspectRatio (1)
  - Qt::KeepAspectRatioByExpanding (2)
- 使用QElapsedTimer测量处理时间
- 基于QSpinBox和QComboBox构建用户界面
- 使用QSize存储缩放因子
- 支持通过NodeDelegateModel::registerOSCControl注册OSC控制接口
- 界面基于Qt Widgets构建，使用QGridLayout进行布局