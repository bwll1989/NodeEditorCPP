# AudioDecoderNode 帮助文档

## 概述
AudioDecoderNode 是一个音频文件解码和播放控制节点，负责读取音频文件并将解码后的音频数据输出到共享缓冲区，支持多种音频格式和播放控制功能。

## 功能特性
- **多格式支持**：支持常见音频格式（WAV、MP3、FLAC等）
- **实时解码**：边解码边输出，支持大文件播放
- **播放控制**：播放、停止、循环播放
- **音量控制**：0-100% 音量调节
- **多通道分离**：支持多声道音频的独立输出
- **OSC控制**：支持外部OSC协议控制
- **共享缓冲区**：使用 AudioTimestampRingQueue 进行数据传输

## 输入端口
- **端口类型**：VariableData
- **端口数量**：4个
- **功能**：接收外部控制信号和参数

## 输出端口
- **端口类型**：AudioData
- **端口数量**：可动态调整（默认2个，对应立体声）
- **数据格式**：AudioTimestampRingQueue 共享缓冲区
- **通道分离**：每个输出端口对应一个音频通道

## 界面组件
- **文件选择按钮**："Select" - 打开文件对话框选择音频文件
- **文件显示框**：显示当前选中的音频文件路径
- **播放按钮**："Play" - 开始播放音频
- **停止按钮**："Stop" - 停止播放音频
- **循环复选框**："Loop" - 启用/禁用循环播放
- **音量滑块**："volume" - 0-100% 音量调节

## OSC控制接口
- `/volume` - 控制音量滑块
- `/loop` - 控制循环开关
- `/play` - 触发播放按钮
- `/stop` - 触发停止按钮

## 技术实现
- **解码引擎**：AudioDecoder 类
- **数据传输**：AudioTimestampRingQueue 时间戳环形缓冲区
- **线程安全**：支持多线程访问
- **内存管理**：智能指针管理音频数据

## 使用说明
1. 点击 "Select" 按钮选择音频文件
2. 调整音量滑块设置播放音量
3. 可选择启用循环播放
4. 点击 "Play" 开始播放
5. 连接输出端口到音频处理或输出节点
6. 使用 "Stop" 按钮停止播放

## 支持的音频格式
- WAV（推荐48000，16Bit）
- MP3
- FLAC
- 其他 FFmpeg 支持的格式

## 注意事项
- 确保音频文件格式受支持
- 多声道文件会自动分离到不同输出端口
- OSC控制需要启用OSC服务
- 播放状态会在节点销毁时自动停止
- 理论上支持ffmpeg支持的所有格式，但是实际只测试了wav，48000hz的音频文件