# MathOperationNode 帮助文档
## 节点功能
数学运算节点用于执行基本的数学运算，支持以下特性：

- 基本算术运算：支持加法(+)、减法(-)、乘法(*)、除法(/)、取模(%)和幂运算(^)六种基本数学运算
- 灵活的数据处理：自动将输入数据转换为数值类型进行计算
- 实时计算：输入数据变化时自动更新计算结果
- 可视化操作选择：通过下拉菜单直观选择运算类型
- 远程控制支持：通过OSC协议远程控制运算类型
- 数据类型兼容：支持处理各种可转换为数值的数据类型
## 输入端口
1. INPUT 0：第一个数据输入源
2. INPUT 1：第二个数据输入源

## 输出端口
1. OUTPUT 0：第一个数据输入源

## 节点界面
节点提供了简洁的用户界面，包含以下元素：

- 运算符选择下拉菜单：用于选择要执行的数学运算
  - "+"：加法运算
  - "-"：减法运算
  - "*"：乘法运算
  - "/"：除法运算
  - "%"：取模运算
  - "^"：幂运算
## 使用示例
### 基本加法运算
1. 添加数学运算节点到工作区
2. 从下拉菜单中选择"+"运算符
3. 将两个数值源节点（如IntSourceNode或FloatSourceNode）分别连接到INPUT 0和INPUT 1端口
4. 数学运算节点将自动计算两个输入值的和并输出结果
### 创建复合运算
1. 添加多个数学运算节点到工作区
2. 为每个节点设置不同的运算符
3. 将节点串联起来，前一个节点的输出连接到下一个节点的输入
4. 构建复杂的数学表达式计算流程
### 动态切换运算类型
1. 将一个整数源节点（值范围0-5）连接到其他节点（如OSCInNode）
2. 通过OSC协议发送"/math"消息控制运算类型
3. 实现远程动态切换数学运算
## 注意事项
- 除法运算：当除数为0时，需要注意处理可能的错误或异常
- 数据类型：确保输入数据可以转换为数值类型，否则可能导致计算错误
- 取模运算：仅适用于数值类型数据，对非数值类型可能产生意外结果
- 幂运算：大数值的幂运算可能导致溢出或精度问题
- 输入顺序：对于非对称运算（如减法、除法），输入顺序很重要，INPUT 0是被操作数，INPUT 1是操作数
- 实时更新：任何输入数据的变化都会触发重新计算
- OSC控制：可以通过OSC协议远程控制运算类型，地址为"/math"
## 技术细节
- 使用QComboBox实现运算符选择界面
- 基于std::unordered_map存储输入数据
- 支持通过NodeDelegateModel::registerOSCControl注册OSC控制接口
- 使用QVariant实现灵活的数据类型处理
- 运算结果通过dataUpdated信号通知连接的节点
- 支持保存和加载节点配置