# USR-IO808 节点

## 概述

USR-IO808节点是一个用于控制USR-IO808工业级IO控制器的节点。它提供了TCP服务器功能，可以通过Modbus TCP协议与USR-IO808设备进行通信，实现对8路数字输入(DI)和8路数字输出(DO)的控制和监控。

## 输入端口

- **DO 0-7**: 8个数字输出控制端口，用于控制USR-IO808的8路数字输出。

## 输出端口

- **DI 0-7**: 8个数字输入状态端口，用于监控USR-IO808的8路数字输入状态。

## 界面

节点界面包含以下部分：

1. **连接设置**：
   - IP地址：USR-IO808设备的IP地址
   - 端口：USR-IO808设备的TCP端口（默认为8080）

2. **DI状态**：显示8路数字输入的状态（开/关）

3. **DO控制**：控制8路数字输出的状态（开/关）
## 使用示例
### 示例1：连接USR-IO808设备并控制DO输出

1. 添加USR-IO808节点到流程图
2. 在节点界面中设置设备IP地址和端口（默认端口为502）
3. 点击"Connect"按钮连接到设备
4. 使用界面上的DO复选框控制相应的数字输出
5. 观察DI指示灯显示数字输入状态

### 示例2：通过其他节点控制USR-IO808设备

1. 添加USR-IO808节点和按钮节点到流程图
2. 将按钮节点的输出连接到USR-IO808节点的DO1输入端口
3. 点击按钮节点，控制USR-IO808设备的第一路数字输出
4. 将USR-IO808节点的DI1输出端口连接到数据显示节点，以监控第一路数字输入状态

## 注意事项

- 确保USR-IO808设备已正确连接到网络并配置了正确的IP地址
- 默认端口为8080，可根据实际设备配置进行修改
- 连接成功后，DO控制复选框才会启用
- 设备响应数据格式为Modbus TCP协议，DO口状态返回格式为"01 05 00 {index} {state} {crc}"

## 技术细节

- 使用Modbus TCP协议与USR-IO808设备通信
- 支持读取所有输入/输出状态
- 支持设置单个或所有输出状态
- 自动重连功能
- 使用JavaScript脚本处理Modbus协议，支持以下功能：
  - 生成Modbus命令（读取输入、读取输出、设置输出）
  - 解析Modbus响应数据
  - CRC16校验计算

## 通信协议

### 命令格式

1. **读取所有输入状态**：`01 02 00 00 00 08 79 CC`
2. **读取所有输出状态**：`01 01 00 00 00 08 3D CC`
3. **设置单个输出**：`01 05 00 {index} {state} {crc}`
   - index: 输出索引（从0开始）
   - state: 状态值（FF 00表示开，00 00表示关）
   - crc: CRC16校验值

### 响应格式

1. **输入状态响应**：`01 02 01 {value} {crc}`
   - value: 8个输入的状态值（位表示）
2. **输出状态响应**：`01 01 01 {value} {crc}`
   - value: 8个输出的状态值（位表示）
3. **设置输出响应**：`01 05 00 {index} {state} {crc}`
   - index: 输出索引
   - state: 状态值（FF 00表示开，00 00表示关）
   - crc: CRC16校验值



## 注意事项

## 技术细节
