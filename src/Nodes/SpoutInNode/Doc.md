# SpoutInNode 帮助文档

## 功能概述

SpoutInNode 是一个基于 Spout 技术的图像输入节点，用于在 Windows 平台上实时接收来自其他应用程序（如 Resolume, TouchDesigner, OBS 等）的图像数据。

本节点使用 `SpoutReceiver` 类实现，支持动态发现和连接 Spout 发送源。

### 主要功能

- **实时图像接收**: 通过 Spout 协议接收来自其他应用程序的图像数据。
- **自动发送器发现**: 自动检测和列出可用的 Spout 发送器。
- **动态切换**: 支持在运行时切换不同的发送源。
- **控制端口**: 提供输入端口以通过其他节点控制发送源名称和启用状态。
- **高性能传输**: 基于 GPU 共享内存，实现低延迟的图像传输。

## 输入输出端口

### 输入端口 (控制)

- **端口 0**: `VariableData`
  - **功能**: 设置发送器名称 (Sender Name)。
  - **描述**: 接收字符串类型的变量，用于指定要连接的 Spout 发送源名称。
  
- **端口 1**: `VariableData`
  - **功能**: 启用/禁用接收 (Enable)。
  - **描述**: 接收布尔类型的变量 (True/False)，用于控制节点的开始和停止。

### 输出端口 (数据)

- **端口 0**: `ImageData`
  - **功能**: 输出图像数据。
  - **描述**: 输出从 Spout 接收到的实时图像帧 (OpenCV Mat 格式)。

## 节点界面

### 发送器选择
- **发送器下拉框**: 列出当前系统所有可用的 Spout 发送器。
- **刷新**: 点击可手动刷新发送器列表。
- **自动连接**: 节点会尝试自动连接到活动的发送器。

### 连接控制
- **开始/停止**: 手动控制接收状态。
- **状态指示**: 显示当前是否已连接 ("已连接" / "未连接")。

## 使用说明

1. **添加节点**: 在编辑器中创建 `Spout In` 节点。
2. **选择源**: 点击下拉框选择一个正在运行的 Spout 发送源。
3. **连接输出**: 将输出端口连接到 `Image Show` 或其他图像处理节点。
4. **外部控制**: (可选) 连接 `Variable` 节点到输入端口，以编程方式控制源名称或开关状态。

## 注意事项

- 确保发送端应用程序已启动并启用了 Spout 输出。
- 节点支持断线重连：如果发送源重启，节点尝试自动恢复连接。
- 图像格式通常为 RGBA。
