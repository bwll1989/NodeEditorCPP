# ExtractNode 帮助文档
## 节点功能
数据提取节点（Extract Node）用于从复杂的数据结构中提取特定键值，支持以下特性：

- 精确数据提取：可以从VariableData类型的输入数据中提取指定键名的值
- 灵活键名指定：通过文本输入框可以动态指定要提取的数据键名
- JavaScript表达式支持：支持使用点表示法（如 default.width ）访问嵌套数据结构
- 支持嵌套数据：可以逐层提取嵌套数据结构中的值
- 实时数据更新：当输入数据或键名变化时，自动更新输出数据
- 配置保存与加载：支持将提取配置保存到流程文件中并在加载时恢复
- 嵌入式界面：提供简洁的嵌入式界面，方便直接在节点上编辑键名
## 输入端口
节点提供1个输入端口：

1. INPUT 0：数据输入源，接收VariableData类型的数据
## 输出端口
节点提供1个输出端口：

1. OUTPUT 0：提取后的数据，包含从输入数据中提取的特定键值
## 节点界面
节点界面是一个简单的文本输入框，用于输入要提取的数据键名或JavaScript表达式。默认值为"default"。

## 使用示例
### 示例1：基本数据提取
1. 添加数据提取节点到流程图
2. 将一个包含多个键值对的VariableData源节点（如MergeNode或其他数据源）连接到提取节点的输入端口
3. 在文本框中输入要提取的键名，例如"temperature"
4. 提取节点的输出将是输入数据中键名为"temperature"的值
### 示例2：从嵌套数据中提取（使用JavaScript表达式）
1. 添加数据提取节点到流程图
2. 将一个包含嵌套数据的VariableData源节点连接到提取节点的输入端口
3. 在文本框中输入JavaScript表达式，例如"position.x"或"data.coordinates.latitude"
4. 提取节点将解析表达式并从嵌套数据结构中提取对应的值
### 示例3：提取默认值
1. 添加数据提取节点到流程图
2. 将一个简单的VariableData源节点（如IntSourceNode或FloatSourceNode）连接到提取节点的输入端口
3. 在文本框中保留默认值"default"
4. 提取节点将输出源节点的默认值
### 示例4：多级提取
1. 添加多个数据提取节点到流程图，形成链式结构
2. 将第一个提取节点的输出连接到第二个提取节点的输入
3. 在每个提取节点中指定不同的键名或表达式
4. 通过这种方式可以逐层提取复杂数据结构中的值
## 注意事项
1. 输入数据必须是VariableData类型，否则节点将无法处理
2. 如果指定的键名在输入数据中不存在，节点将输出空值
3. 键名和JavaScript表达式区分大小写，确保输入的键名与数据中的键名完全匹配
4. 使用点表示法（如"default.width"）时，第一部分是根键名，后续部分是JavaScript属性访问路径
5. 如果JavaScript表达式解析出错，节点将输出空值并在调试控制台输出错误信息
6. 文本框中的更改会在编辑完成后（按Enter键或失去焦点）立即反映到输出数据中
7. 节点配置（键名或表达式）会随流程文件一起保存和加载
8. 当输入数据为空时，节点将输出空的VariableData
## 技术细节
- 节点使用QLineEdit实现键名/表达式输入界面
- 使用QJSEngine解析和执行JavaScript表达式
- 使用JSEngineDefines命名空间中的函数在C++和JavaScript之间转换数据
- 使用QJsonObject保存和加载配置数据
- 通过信号槽机制（editingFinished信号）实现键名变化时的实时更新
- 使用VariableData::value()方法从输入数据中提取指定键名的值
- 支持通过dataUpdated信号通知下游节点数据已更新