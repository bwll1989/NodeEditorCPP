{
    "DataFlow": {
        "connections": [
            {
                "inPortIndex": 0,
                "intNodeId": 5,
                "outNodeId": 6,
                "outPortIndex": 0
            },
            {
                "inPortIndex": 0,
                "intNodeId": 7,
                "outNodeId": 6,
                "outPortIndex": 0
            }
        ],
        "groups": [
        ],
        "nodes": [
            {
                "id": 5,
                "input-count": 1,
                "internal-data": {
                },
                "output-count": 1,
                "port-editable": false,
                "position": {
                    "x": 452,
                    "y": 102
                },
                "remarks": "Data Info",
                "type": "Data Info"
            },
            {
                "id": 6,
                "input-count": 1,
                "internal-data": {
                    "InPortCount": 1,
                    "OutPortCount": 1,
                    "values": {
                        "scripts": "\nvar display;\r\nvar result = 0;\r\nvar operation = \"\";\r\nvar firstNumber = true;\r\n\r\nfunction initInterface() {\r\n    //清除所有控件后重新创建\r\n    Node.clearLayout();\r\n    // 创建显示屏\r\n    display = new LineEdit();\r\n    display.setText(\"0\");\r\n    Node.addToLayout(display, 0, 0, 1, 3);\r\n    \r\n    // 创建数字按钮\r\n    for (var i = 1; i <= 9; i++) {\r\n        var btn = new Button();\r\n        btn.setText(i.toString());\r\n        btn.clicked.connect(createNumberClickHandler(i));\r\n        Node.addToLayout(btn, Math.floor((i-1)/3) + 1, (i-1) % 3);\r\n    }\r\n    \r\n    // 创建0按钮\r\n    var zeroBtn = new Button();\r\n    zeroBtn.setText(\"0\");\r\n    zeroBtn.clicked.connect(createNumberClickHandler(0));\r\n    Node.addToLayout(zeroBtn, 4, 1);\r\n    \r\n    // 创建运算符按钮\r\n    var operators = [\"+\", \"-\", \"*\", \"/\"];\r\n    for (var i = 0; i < operators.length; i++) {\r\n        var btn = new Button();\r\n        btn.setText(operators[i]);\r\n        btn.clicked.connect(createOperatorClickHandler(operators\r\n        [i]));\r\n        Node.addToLayout(btn, i+1, 3);\r\n    }\r\n    \r\n    // 创建等号按钮\r\n    var equalsBtn = new Button();\r\n    equalsBtn.setText(\"=\");\r\n    equalsBtn.clicked.connect(calculate);\r\n    Node.addToLayout(equalsBtn, 5, 3);\r\n    \r\n    // 创建清除按钮\r\n    var clearBtn = new Button();\r\n    clearBtn.setText(\"C\");\r\n    clearBtn.clicked.connect(function() {\r\n        display.setText(\"0\");\r\n        result = 0;\r\n        operation = \"\";\r\n        firstNumber = true;\r\n    });\r\n    Node.addToLayout(clearBtn, 4, 0);\r\n}\r\n\r\nfunction createNumberClickHandler(num) {\r\n    return function() {\r\n        if (firstNumber || display.text() === \"0\") {\r\n            display.setText(num.toString());\r\n            firstNumber = false;\r\n        } else {\r\n            display.setText(display.text() + num.toString());\r\n        }\r\n    };\r\n}\r\n\r\nfunction createOperatorClickHandler(op) {\r\n    return function() {\r\n        result = parseFloat(display.text());\r\n        operation = op;\r\n        firstNumber = true;\r\n    };\r\n}\r\n\r\nfunction calculate() {\r\n    var secondNumber = parseFloat(display.text());\r\n    var newResult = 0;\r\n    \r\n    switch (operation) {\r\n        case \"+\":\r\n            newResult = result + secondNumber;\r\n            break;\r\n        case \"-\":\r\n            newResult = result - secondNumber;\r\n            break;\r\n        case \"*\":\r\n            newResult = result * secondNumber;\r\n            break;\r\n        case \"/\":\r\n            if (secondNumber !== 0) {\r\n                newResult = result / secondNumber;\r\n            } else {\r\n                display.setText(\"错误\");\r\n                return;\r\n            }\r\n            break;\r\n    }\r\n    \r\n    display.setText(newResult.toString());\r\n    result = newResult;\r\n    firstNumber = true;\r\n    \r\n    // 将结果输出到端口0\r\n  \r\n    Node.setOutputValue(0, newResult);\r\n}"
                    }
                },
                "output-count": 1,
                "port-editable": true,
                "position": {
                    "x": -61,
                    "y": 0
                },
                "remarks": "JS Script",
                "type": "JS Script"
            },
            {
                "id": 7,
                "input-count": 1,
                "internal-data": {
                    "values": {
                        "text": "15"
                    }
                },
                "output-count": 1,
                "port-editable": false,
                "position": {
                    "x": 489.24,
                    "y": -41.19999999999999
                },
                "remarks": "String Source",
                "type": "String Source"
            }
        ]
    },
    "TimeLine": {
        "clock": {
            "clockSource": 2,
            "timecodeType": 4
        },
        "displayFormat": 0,
        "stage": {
            "screens": [
            ]
        },
        "tracks": [
        ]
    }
}
